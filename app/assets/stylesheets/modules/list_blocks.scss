.list_block--collection {
	display: flex;
	padding: em(10, 10);
	flex-wrap: wrap;
}

.list_block--collection--wrap {
	margin-bottom: em(20, 10);
	padding-top: em(20, 10);
	padding-bottom: em(20, 10);
	.list_block--collection--sibling {
		padding-left: em(17, 10);
		padding-right: em(17, 10);
	}
	& ~ & {
		border-top: 1px solid black;
		padding-top: em(20, 10);
	}
}

.list_block--collection--sibling {
	display: flex;
	align-items: baseline;
	justify-content: space-between;
	flex-wrap: wrap;
	h2 {
		margin-right: em(20, 18);
	}
	div {
		display: flex;
		align-items: center;
		margin-top: em(20, 10);
		margin-left: auto;
	}
	& + & {
		margin-top: em(20, 10);
	}
}

.list_block--collection--sibling_stack {
	flex-direction: column;
	>* + * {
		margin-top: em(10, 10);
	}
	p {
		line-height: em(20, 15);
	}
}

.list_block--collection--sibling--key_list {
	font-size: em(13, 10);
	margin-top: em(16, 13);
	max-width: em(600, 13);
	li {
		margin-bottom: em(8, 13);
		line-height: em(16, 13);
		&:before {
			content: " ";
			margin-right: em(6, 13);
			width: em(10, 13);
			height: em(10, 13);
			display: inline-block;
		}
	}
}

.list_block--sibling--key--positive:before {
	background-color: $teal-40;
}
.list_block--sibling--key--part_warning:before {
	background-color: $warning-amber;
}
.list_block--sibling--key--full_warning:before {
	background-color: $warning-red;
}


.list_block--collection__tight {
	.list_block {
		flex-basis: calc(25% - 14px);
		@media (max-width: 1200px) {
			flex-basis: calc(33.3% - 14px);
		}
		@media (max-width: 700px) {
			flex-basis: calc(50% - 14px);
		}
		@media (max-width: 500px) {
			flex-basis: calc(100% - 14px);
		}
	}
}

.list_block {
	display: flex;
	flex-wrap: wrap;
	align-content: flex-start;
	border: 1px solid $teal-80;
	margin: em(7, 10);
	flex: 0 0 calc(50% - 14px);
	min-height: em(60, 10);
	order: 1;
	position: relative;
	@media (min-width: 1201px) {
		flex-basis: calc(33.3% - 14px);
	}
	@media (max-width: 700px) {
		flex-basis: calc(100% - 14px);
	}
	&.empty .list_block--action:not(.delete_list_block_button) {
		display: none;
	}
	&.all-out-of-date {
		order: 2;
	}
	&.empty {
		order: 3;
	}
	&[hidden] {
		display: none;
	}
	&.edit_mode {
		border-style: dashed;
		&.empty {
			align-content: flex-start;
		}
	}
	&.hide_add {
		min-height: em(123, 10);
		align-content: flex-start;
		.list_block--item-new {
			display: none;
		}
	}
	&:target {
		animation: list_block_fade 4s 1;
    -webkit-animation: list_block_fade 4s 1;
    animation-fill-mode: forwards;
	}
}

@keyframes list_block_fade {
	0% { background-color: white; }
	20% { background-color: $teal-10; }
	100% { background-color: white; }
}

@-webkit-keyframes list_block_fade {
	0% { background-color: white; }
	20% { background-color: $teal-10; }
	100% { background-color: white; }
}

a.list_block {
	margin: em(7, 15);
	&:not(.list_block__column) {
		padding: em(12, 15) em(8, 15) em(16, 15);
	}
	background-color: $teal-10;
	order: 3;
	text-decoration: none;
	color: black;
	&:hover {
		background-color: $teal-20;
	}
}

.list_block-stack {
	align-content: space-between;
	padding: 0;
}

.list_block--content {
	display: flex;
	align-content: flex-start;
	flex-wrap: wrap;
	padding: em(12, 10) em(8, 10) em(34, 10);
	.edit_mode & {
		padding-bottom: em(20, 10);
	}
}

.list_block--content_end {
	width: 100%;
}

.list_block--info_bar {
	display: flex;
	justify-content: space-between;
	border-top: 1px solid $teal-80;
	min-height: em(54, 10);
	align-items: stretch;
}

a.list_block--info_bar {
	align-items: center;
	padding: em(12, 15) em(8, 15);
	min-height: em(54, 15);
	text-decoration: none;
	color: black;
	background-color: $teal-10;
	&:hover {
		background-color: $teal-20;
	}
}

.list_block--info_bar-content {
	padding: em(12, 10) em(8, 10);
	display: flex;
	flex-wrap: wrap;
	align-items: center;
	align-content: center;
}

.people_marker {
	background-color: pink;
	height: em(24, 10);
	width: auto;
	max-width: em(24, 10);
	min-width: em(24, 10);
	display: flex;
	align-items: center;
	justify-content: flex-start;
	margin-right: em(9, 10);
	border-radius: em(12, 10);
	overflow: hidden;
	margin-top: em(3, 10);
	margin-bottom: em(3, 10);
	transition: max-width .3s;
	white-space: nowrap;
	cursor: default;
	span {
		width: 100%;
		text-align: center;
	}
	.list_block--info_bar-content p + & {
		margin-left: em(9, 10);
	}
	&:nth-child(5n + 1),
	li:nth-child(5n + 1) & {
		background-color: pink;
	}
	&:nth-child(5n + 2),
	li:nth-child(5n + 2) & {
		background-color: lightblue;
	}
	&:nth-child(5n + 3),
	li:nth-child(5n + 3) & {
		background-color: cornsilk;
	}
	&:nth-child(5n + 4),
	li:nth-child(5n + 4) & {
		background-color: paleturquoise;
	}
	&:nth-child(5n + 5),
	li:nth-child(5n + 5) & {
		background-color: palegoldenrod;
	}
	&:hover,
	&:focus {
		max-width: em(100, 10);
		padding: em(10, 10);
		&::after {
			content: attr(title);
			background-color: inherit;
		}
		span {
			display: none;
		}
	}
	&.people_marker__wide {
		max-width: max-content;
		width: auto;
		padding: em(6, 10) em(10, 10);
		margin-top: em(5, 10);
		margin-bottom: em(5, 10);
	}
	&.not_accepted {
		border: 1px solid $warning-red-strong;
		opacity: .7;
	}
}

.list_block--info_bar-action {
	margin-left: auto;
	font-size: em(28, 10);
	width: em(54, 28);
	background: $teal-10;
	border: none;
	border: 1px solid $teal-80;
	border-width: 0 0 0 1px;
	display: flex;
	align-items: center;
	justify-content: center;
	text-decoration: none;
	color: black;
	&:hover {
		background-color: $teal-20;
	}
}

.list_block--untouchable {
	position: relative;
}

.edit_mode--message {
	font-family: monospace;
	color: $teal-80;
	font-size: em(13, 8.125);
	font-size: 13px;
	display: block;
	margin-bottom: em(11, 13);
	margin-left: em(12, 13);
}

.list_block.edit_mode .list_block--item_show,
.list_block.edit_mode .list_block--item-new,
.list_block.edit_mode .edit_list_block_button,
.list_block:not(.edit_mode) .list_block--item_edit,
.list_block:not(.edit_mode) .close_without_edit_list_block_button,
.finish_editing_list_block_button,
.list_block:not(.edit_mode) .edit_mode--message,
.list_block:not(.empty) .delete_list_block_button {
	display: none;
}

.list_block.edit_mode.delete_mode .finish_editing_list_block_button {
	display: block;
}

.list_block__column {
	align-content: space-between;
	> * {
		flex-basis: 100%;
	}
}

.list_block__full {
	flex-basis: calc(100% - 14px);
}

.list_block--tag_bar {
	background-color: $teal-10;
	padding: em(12, 10) em(8, 10);
}

.list_block--info_rows {
	display: flex;
	flex-direction: column;
	* + * {
		margin-top: em(8, 15);
	}
}

.list_block--title {
	flex-basis: calc(100% - 6px);
	flex-shrink: 0;
	display: flex;
	justify-content: space-between;
	align-items: center;
	.list_block:not(.list_block__column) & {
		margin: 0 em(3, 17) em(10, 17);
	}
	h3 {
		flex-grow: 1;
	}
	input[type="text"] {
		font-size: em(17, 17);
		padding: em(3, 17);
	}
	.list_block--action {
		width: em(35, 15);
		height: em(35, 15);
		padding: em(5, 15);
		color: $black-30;
		cursor: pointer;
		&:not(:first-child) {
			margin-left: em(10, 15);
		}
		&:first-child {
			margin-right: em(7, 15);
		}
		font-size: em(17, 17);
		&:hover {
			color: $black-80;
		}
	}
}

.list_block--title_chunky {
	padding-bottom: em(1, 10);
	h3 {
		padding: em(3, 17);
	}
}

.list_block--title,
.list_block--collection--wrap {
	input[type="text"]:not(.bordered) {
		border: 1px solid transparent;
		width: 100%;
		&:focus {
			border-color: $black-30;
			outline: none;
		}
	}
}

.list_block--action_row {
	display: flex;
	justify-content: flex-end;
	a {
		width: em(40, 15);
		height: em(40, 15);
		margin-left: em(5, 15);
		background-color: $teal-10;
		border-radius: em(2, 15);
		color: $teal-100;
		padding: em(7, 15);
		&.unfavourite {
			color: white;
		}
	}
}

.list_block--item,
.list_block--item_placeholder {
	margin: em(3, 15);
	background-color: $teal-40;
	border-radius: em(3, 15);
	padding: em(7, 15);
	flex-basis: calc(50% - 6px);
	position: relative;
	border: 1px solid $teal-40;
	display: flex;
	justify-content: space-between;
	align-content: flex-start;
	min-height: em(47, 15);
	* {
		font-size: inherit;
	}
	@media (min-width: 1900px), (max-width: 1200px) and (min-width: 900px), (max-width: 700px) and (min-width: 501px)  {
		flex-basis: calc(33.3% - 6px);
	}
	&.date-part-warning {
		background-color: $warning-amber;
		border-color: $warning-amber;
		order: 1;
	}
	&.date-full-warning {
		background-color: $warning-red;
		border-color: $warning-red;
		order: 2;
	}
	&.list_block--item_stacked {
		flex-wrap: wrap;
		* {
			flex-basis: 100%;
			flex-grow: 0;
			line-height: em(19, 15);
		}
		h4 {
			flex-basis: calc(100% - 10px);
		}
		.icon {
			flex-basis: 10px;
		}
	}
	.icon {
		width: em(10, 15);
		height: em(10, 15);
		color: $teal-10;
	}
	.list_block__full & {
		// flex-basis: calc(14.285714286% - 6px);  // 100 / 7
		flex-basis: calc(16.666666% - 6px);  // 100 / 6
		font-size: em(15, 10);
		@media (max-width: 900px) and (min-width: 751px) {
			flex-basis: calc(20% - 6px);
		}
		@media (max-width: 750px) and (min-width: 501px) {
			flex-basis: calc(33.333% - 6px);
		}
		@media (max-width: 500px) {
			flex-basis: calc(50% - 6px);
		}
	}
	&[hidden] {
		display: none;
	}
	> * + * {
		margin-top: .4rem;
	}
}

.list_block--item_placeholder {
	background-color: $teal-10;
	min-height: em(45, 15);
}

a.list_block--item {
	text-decoration: none;
	color: black;
	&:hover {
		background-color: $teal-20;
		&.date-part-warning {
			background-color: $warning-amber-40;
		}
		&.date-full-warning {
			background-color: $warning-red-40;
		}

	}
}

.list_block--item_edit--checkbox:checked + .list_block--item_edit {
	border-width: 5px;
	opacity: .7;
}

.list_block--item_edit {
	background-color: white;
	padding-right: em(30, 15);
	transition: border .3s;
	border-color: $teal-40;
	&.date-part-warning {
		background-color: $warning-amber-40;
	}
	&.date-full-warning {
		background-color: $warning-red-40;
	}
	&:hover {
		cursor: pointer;
	}
}

.list_block--item_edit_marker {
	position: absolute;
	top: em(7, 15);
	right: em(7, 15);
	width: em(20, 15);
	height: em(20, 15);
	opacity: .7;
	color: $teal-110;
}

.finish_editing_list_block_button {
	cursor: pointer;
}

.list_block--item-new {
	background-color: white;
	min-height: em(40, 15);
	color: black;
	text-decoration: none;
	display: flex;
	align-items: center;
	border: 1px solid $teal-110;
	order: 2;
	&.list_block--item:hover {
		background-color: $teal-5;
	}
}

.list_block--item--ingredient_note {
	font-size: em(12, 15);
	background-color:rgba(255, 255, 255, 0.6);
	padding: em(3, 12) em(4, 12);
	margin: 1rem em(-2, 12) em(-2, 12) em(-2, 12);
	align-self: flex-end;
}